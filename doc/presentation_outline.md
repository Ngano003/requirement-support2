# 要件定義AI（Requirement Support AI）説明資料骨子

## 1. 目的・背景
*   **目的**: 要件定義段階での「ヌケ・モレ・矛盾」を自動検出し、後工程（設計・実装・テスト）での手戻りを削減する。
*   **背景**:
    *   要件定義の欠陥は、後工程で見つかるほど修正コストが指数関数的に増大する。
    *   人間によるレビューは「正常系（Happy Path）」にバイアスがかかりやすく、異常系や境界値（Edge Cases）といった「見落としやすい欠陥」が残りやすい。

## 2. 開発方針 (Policy)
本AIは、単なる「文章校正」ではなく、**「構造的な整合性」と「意味的な網羅性」の両面から検証を行う**ことを方針とする。

### 2.1 検出アプローチの最適化
従来の「形式手法（グラフ理論）」や「ルールベース」は、自然言語からの変換精度がボトルネックとなり実用化が困難でした。
本システムでは、近年の**LLM（大規模言語モデル）の高度な推論能力**を活用し、全ての欠陥検出をLLMのみで完結させる「完全統合アプローチ」を採用します。

*   **LLMによる統合検証**:
    *   「意味的な欠陥（条件漏れ）」だけでなく、「構造的な欠陥（袋小路）」も、LLMが文脈から状態遷移を脳内シミュレーションすることで検出可能になりました。
    *   これにより、複雑なモデル変換定義が不要となり、あらゆるフォーマットの仕様書に即座に対応できます。

### 2.2 防ぐべき欠陥の定義 (Defect Taxonomy)
闇雲に指摘するのではなく、**「人間が見落としやすく、かつ影響が大きい」**欠陥にフォーカスする（Defect Taxonomyに基づく優先順位付け）。

*   **優先度 高**: 発生頻度が高い、または致命的なエラーにつながるもの。
*   **優先度 中**: 高度な論理矛盾や、品質に悪影響を与えるもの。

### 2.3 システム設計
*   **Clean Architecture**: 将来的な拡張（エンジンの交換、UIの変更）に耐えうる堅牢な設計。
*   **Interactive Review**: 指摘箇所の根拠（元ドキュメントの該当箇所）を即座に提示し、人間の判断を支援するUI。

## 3. 見込まれる効果 (Expected Effects)
定義された「欠陥分類表（Defect Taxonomy）」に基づき、以下の具体的な品質向上効果が見込まれる。

### 3.1 手戻りの削減 (Productivity)
最も頻発する欠陥を未然に防ぐことで、開発の手戻りを削減する。

*   **Missing Else（条件漏れ）の検出**:
    *   *概要*: 「Aの場合はBする」という記述に対し、「Aでない場合はどうするか？」の記述漏れを指摘。
    *   *効果*: 未定義動作によるバグや、実装段階での仕様確認待ち時間を削減。エンジニアの手戻り原因No.1を解消。

### 3.2 致命的欠陥の回避 (Quality & Reliability)
システムダウンやユーザー体験の毀損につながる欠陥を排除する。

*   **Dead Ends（状態の袋小路）の検出**:
    *   *概要*: エラー画面リングなど、どこにも遷移できなくなる状態を検出。
    *   *効果*: ユーザーが操作不能になる致命的なUX不備を100%防止。
*   **Conflicting Outputs（矛盾する命令）の検出**:
    *   *概要*: 「同時に解錠と施錠を行う」などの物理的・論理的矛盾を検出。
    *   *効果*: ハードウェア故障や重大な論理エラーによるシステム停止を回避。

## 4. 導入メリットのまとめ
1.  **品質の均質化**: レビュアーのスキルに依存せず、一定水準の品質を担保可能。
2.  **レビュー工数の削減**: 自動検出により、人間は「本質的な仕様の妥当性」の判断に集中できる。
3.  **網羅性の向上**: 人間が苦手とする網羅的なチェック（全遷移の確認など）を機械が代行。

---
*参照: `doc/product_requirements.md`, `doc/architecture_spec.md`, `doc/defect_taxonomy.md`*
