# 産業用ロボットアーム制御仕様書

## 概要
部品をピック＆プレースするための2軸ロボットアーム。

## 構成要素
- **アーム伸縮モーター**: アームを伸ばす(Extend) / 縮める(Retract)。同時に動作はできない。
- **ベース旋回モーター**: 土台を右旋回(RotateRight) / 左旋回(RotateLeft)。

## 動作シーケンス

### ピック動作 (Pick Sequence)
1. **初期位置**: アームは縮んでいる。
2. **アプローチ**:
   - 「移動指令」を受けると、ベースを目標角度まで「右旋回」させる。
   - 同時に、時間短縮のためアームを「伸ばす(Extend)」。
3. **把持**: ハンドを閉じる。

### 異常回避
- **緊急回避モード**:
  - 障害物センサーが反応した場合、直ちに「緊急回避」状態に移行する。
  - 安全のため、アームを急速に「縮める(Retract)」。
  - 同時に、遠心力を減らすために現在の旋回を維持しつつ減速する。

<!--
【意図的な欠陥: Conflicting Outputs】
「アプローチ」プロセスにおいて、もしユーザーが誤って緊急停止ボタンを押したり、特定のタイミングで割り込みが入った場合を想定する。
仕様書には明記されていないが、もし「アプローチ中（Extend出力中）」に、何らかのロジックミスで「Retract」命令が出るようなパスがあると、モータードライバがショートする（Hブリッジ競合）。

または、より単純な記述矛盾として：
「高速モード」では、「右旋回」しながら「左旋回」のブレーキをかける、といった矛盾する記述があるケース。
今回は少しひねって、「アームを伸ばす(Extend)」動作中に、特定の条件下で安全装置が「縮める(Retract)」を強制するが、Extend信号を切り忘れる、という競合シナリオを想定できるような記述にする。
-->
