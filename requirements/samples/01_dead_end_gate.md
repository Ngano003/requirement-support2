# 自動ゲートシステム仕様書

## 概要
駐車場の出入り口に設置される自動ゲートの制御仕様。

## 状態遷移

### 1. 通常運用
- **待機 (Idle)**: 車両がいない状態。ゲートバーは閉じている。
- **車両検知**: 入口センサーが車両を検知すると、「認証中 (Authenticating)」に移行する。
- **認証**:
  - カード認証に成功すると、ゲートバーを開き、「通過待ち (Open)」に移行する。
  - 認証に失敗した場合、ブザーを鳴らして「待機」に戻る。
- **通過**: 通過センサーが車両の通過を確認すると、ゲートバーを閉じ、「待機」に戻る。

### 2. メンテナンス
- **メンテナンスモード移行**: 管理者がスイッチを押すと、通常運用のどの状態からでも「メンテナンス中 (Maintenance)」に移行する。
- この状態ではゲートバーは開放状態で固定される。
- **異常検知**: メンテナンス中にセンサー異常を検知した場合は、「エラー停止 (Error)」に移行し、赤色灯を点滅させる。

<!--
【意図的な欠陥: Dead End】
「エラー停止 (Error)」状態からの復帰手順（リセット操作など）が記載されていない。
一度エラーになるとシステムは操作不能になる。
-->
